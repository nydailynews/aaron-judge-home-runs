<!DOCTYPE html>
<html lang="en">
<head>
    <title>Aaron Judge is a home-run machine by the NY Daily News</title>
    <link rel="icon" type="image/png" href="http://interactive.nydailynews.com/favicons.png">
    <!-- DEFAULT -->
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <link rel="apple-touch-icon" href="">
    <meta name="format-detection" content="telephone=no"/>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />

    <!-- TITLES-->
    <meta property="og:title" content='Interactive - Aaron Judge: Home Run Machine' />
    <meta name="twitter:title" content='Interactive - Aaron Judge: Home Run Machine'/>

    <!-- DESCRIPTION-->
    <meta name="description" content="Aaron Judge: Home Run Machine" />
    <meta property="og:description" content="Aaron Judge: Home Run Machine" />
    <meta name="twitter:description" content="Aaron Judge: Home Run Machine" />

    <!-- KEYWORD -->
    <meta name="keywords" content="aaron judge,yankees,home runs,daily news" />
    <meta name="news_keywords" content="aaron judge,yankees,home runs,daily news" />

    <!-- LINK -->
    <link rel="canonical" href="http://interactive.nydailynews.com/project/judge-homers/">
    <meta property="og:url" content="http://interactive.nydailynews.com/project/judge-homers" />
    <meta name="twitter:url" content="http://interactive.nydailynews.com/project/judge-homers">

    <!-- THUMBNAIL IMAGE-->
    <meta property="og:image" content="http://interactive.nydailynews.com/project/judge-homers/img/aaron-judge.jpg" />
    <meta name="twitter:image:src" content="http://interactive.nydailynews.com/project/judge-homers/img/aaron-judge.jpg" />
    <meta property="og:image:width" content="500" />
    <meta property="og:image:height" content="662" />

    <!-- PARSELY -->
    <script type="application/ld+json">
        {
            "@context": "http://schema.org",
            "@type": "NewsArticle",
            "headline": "Interactive - Aaron Judge: Home Run Machine",
            "url": "http://interactive.nydailynews.com/project/judge-homers",
            "thumbnailUrl": "http://interactive.nydailynews.com/project/judge-homers/img/aaron-judge.jpg",
            "dateCreated": "2017-07-10T11:00:00Z",
            "articleSection": "Interactive",
            "creator": ["Interactive", "Joe Murphy", "Kelli R. Parker"],
            "keywords": ["interactive","aaron judge", "Yankees", "Sports"]
        }
    </script>
    <!-- NO NEED TO FILL -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:domain" content="http://interactive.nydailynews.com"/>
    <meta name="twitter:site" content="@nydailynews">
    <meta name="decorator" content="responsive" />
    <meta name="nydn_section" content="NY Daily News" />
    <meta name="robots" content="NOARCHIVE" />
    <meta name="msvalidate.01" content="02916AAC0DA8B068EFE01D721E03ED7E" />
    <meta name="p:domain_verify" content="78efe4f5c9935744af497772f68a0ee7" />
    <meta property="fb:app_id" content="107464888913" />
    <meta property="fb:admins" content="1594068001" />
    <meta property="fb:pages" content="268914272540" />
    <meta property="og:type" content="article" />
    <meta property="og:site_name" content="NY Daily News" />
    <meta property="article:publisher" content="https://www.facebook.com/NYDailyNews/" />
    <meta name="themeKey" content="nydailynews" />
    <meta name="mapThemeKey" content="responsive" />
    <meta name="urlPrefix" content="" />
    <meta name="staticContentPrefix" content="http://static.localedge.com/" />
    <meta name="searchBinding" content="/search" />
    <meta name="localeCountry" content="US"/>
    <meta name="localeLanguage" content="en" />

    <!-- ADOBE ANALYTICS -->
    <script src="//assets.adobedtm.com/4fc527d6fda921c80e462d11a29deae2e4cf7514/satelliteLib-c91fdc6ac624c6cbcd50250f79786de339793801.js"></script>
    <script src="http://interactive.nydailynews.com/includes/js/vendor/jquery.js"></script>
    <script src="js/lib/three.js"></script>

    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,800' rel='stylesheet' type='text/css'>
    <script data-main="http://assets.nydailynews.com/nydn/js/rh.js?r=20170405001" src="http://assets.nydailynews.com/nydn/js/require.js?r=2016LIST" defer></script>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:700|PT+Serif:400,400i" rel="stylesheet">
    <script src="https://use.fontawesome.com/dccaa25f51.js"></script>
   <!--  <link rel="stylesheet" type="text/css" href="http://assets.nydailynews.com/nydn/c/rh.css?r=2016LIST">
    <link rel="stylesheet" type="text/css" href="http://assets.nydailynews.com/nydn/c/ra.css?r=2016LIST"> -->
    <script>
    var nydn = nydn || {
        "section": "NYDailyNews",
        "subsection": "news",
        "template": "article",
        "revision": "201609014009",
        "bidder": { 'contains': function(arg) {} },
        "targetPath": document.location.pathname
    };
    var nydnDO = [ { 
            'title':'xxxAaron Judge: Home Run Machinexxx', 
            'link':'http://interactive.nydailynews.com/project/judge-homers/', 
            'p_type':'interactive', 
            'section':'interactive' } ];
    </script>
    
    <!-- ADS-START -->
    <!-- ads -->
    <script>
    var googletag = googletag || {};
    googletag.cmd = googletag.cmd || [];
    (function() {
        var gads = document.createElement('script');
        gads.async = true;
        var useSSL = 'https:' == document.location.protocol;
        gads.src = (useSSL ? 'https:' : 'http:') + '//www.googletagservices.com/tag/js/gpt.js';
        var node = document.getElementsByTagName('script')[0];
        node.parentNode.insertBefore(gads, node);
    })();
    var is_mobile = /Android|webOS|iPhone|iPad|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    var project_ad_tag = 'project';
    </script>
    <script>
    if( !is_mobile ) {
        googletag.cmd.push(function() {
            googletag.defineSlot('/4692832/NYDN/Interactive',  [[728, 90]], 'div-gpt-ad-x101').addService(googletag.pubads())
            .setTargeting("interactive",project_ad_tag)
            .setTargeting("position","x50");
            googletag.pubads().enableSingleRequest();
            googletag.enableServices();
        });
        googletag.cmd.push(function() {
            googletag.defineSlot('/4692832/NYDN/Interactive',  [[300, 250]], 'div-gpt-ad-1423507761396-1').addService(googletag.pubads())
            .setTargeting("interactive",project_ad_tag)
            .setTargeting("position","x55");
            googletag.pubads().enableSingleRequest();
            googletag.enableServices();
        });
        googletag.cmd.push(function() {
            googletag.defineSlot('/4692832/NYDN/Interactive',  [[300, 250]], 'div-gpt-ad-1423507761396-2').addService(googletag.pubads())
            .setTargeting("interactive",project_ad_tag)
            .setTargeting("position","x55");
            googletag.pubads().enableSingleRequest();
            googletag.enableServices();
        });
        googletag.cmd.push(function() {
            googletag.defineSlot('/4692832/NYDN/Interactive',  [[300, 250]], 'div-gpt-ad-1423507761396-3').addService(googletag.pubads())
            .setTargeting("interactive",project_ad_tag)
            .setTargeting("position","x86");
            googletag.pubads().enableSingleRequest();
            googletag.enableServices();
        });
    }
    </script>
    <!-- mobile ad -->
    <script>
    if( is_mobile ) {        
        googletag.cmd.push(function() {
            googletag.defineSlot('/4692832/M.NYDN/Interactive', [[320, 50]], 'div-gpt-ad-x101').addService(googletag.pubads())
            .setTargeting("interactive",project_ad_tag)
            .setTargeting("position","x101");
            googletag.pubads().enableSingleRequest();
            googletag.enableServices();
        });
        googletag.cmd.push(function() {
            googletag.defineSlot('/4692832/M.NYDN/Interactive', [[300, 250]], 'div-gpt-ad-1423507761396-1').addService(googletag.pubads())
            .setTargeting("interactive",project_ad_tag)
            .setTargeting("position","x35");
            googletag.pubads().enableSingleRequest();
            googletag.enableServices();
        });
        googletag.cmd.push(function() {
            googletag.defineSlot('/4692832/M.NYDN/Interactive', [[300, 250]], 'div-gpt-ad-1423507761396-2').addService(googletag.pubads())
            .setTargeting("interactive",project_ad_tag)
            .setTargeting("position","x36");          
            googletag.pubads().enableSingleRequest();
            googletag.enableServices();
        });
        googletag.cmd.push(function() {
            googletag.defineSlot('/4692832/M.NYDN/Interactive', [[300, 250]], 'div-gpt-ad-1423507761396-3').addService(googletag.pubads())
            .setTargeting("interactive",project_ad_tag)
            .setTargeting("position","x37");
            googletag.pubads().enableSingleRequest();
            googletag.enableServices();
        });
    }
    </script>
    <!-- ADS-END -->

    <script>var nav_params = {section: 'projects', url: 'http://interactive.nydailynews.com/project'};</script>
    <script src="http://interactive.nydailynews.com/library/vendor-nav/vendor-include.js" defer></script>
</head>

<body id="nydailynews" data-section="nydailynews" data-subsection="NY Daily News">
<header id="templateheader"></header>

<!-- START EDITORIAL CONTENT HERE -->

<article>
    <img src="img/aaron-judge.jpg" alt="Aaron Judge">
    <h1>Aaron Judge home runs</h1>
    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
    <hr>
        <div id="field">
            <img src="img/baseball-field.png">
        </div>


    <div id="container">
    <div class="stats-text"><p>Click on a month to see balls fly and get the home run details.</p></div>
        <div class="btn-group">
            <button>april</button>
            <button>may</button>
            <button>june</button>
            <button>july</button>
            <button>august</button>

        </div>
        <div class="stats">
            <h3>snappy title</h3>
            <p>date</p>
            <p>distance</p>
            <p>exit velocity</p>
            <p>opponent</p>
        </div>
    </div>    
</article>

</div>
</main>
        <!-- CUSTOM CSS GOES HERE-->
    <link rel="stylesheet" type="text/css" href="css/style.css">
        
  </div>  

<div id="ra-bp">
      </div> <section id="rao">  <div id="rao-close"></div> <div id="rao-wrap"></div> </section> 
<div id="r-scripts">
    <div id="parsely-root" style="display: none">
        <span id="parsely-cfg" data-parsely-site="nydailynews.com"></span>
    </div>
    <div class="r-ad">
        <div id="div-gpt-ad-x100">
        </div>
    </div>
</div>
<footer id="templatefooter"></footer>
<script>
function judge_homeruns_callback(data) { slugger.datas = data; }

var slugger = {
    draw_field: function() {},
    play_hit: function() {},
    update_statbox: function() {},
    hits:  [
        {
            s: 105.3 * 5280/3600, // Speed off bat (converting mph to fps)
            r: 426, // distance... not 100% sure if this should be std or true
            t: 97.7 - (225) // horizontal angle - 225 to orient the degrees in the chart to our system
        },
        {
            s: 102.8 * 5280/3600,
            r: 420,
            t: 89.6 - (225)
        },
        {
            s: 99.9 * 5280/3600,
            r: 386,
            t: 79.4 - (225)
        }
    ],
    init: function() {
        //$.getJSON('http://interactive.nydailynews.com/chart/output/judge-homeruns.jsonp?callback=?', function(data) { slugger.data = data; });

        animate();
    }
};



            var texture = new THREE.TextureLoader().load( "./img/baseball-texture-map.png" );
            var scene = new THREE.Scene();
            // That "40" started off "75" when the field was smaller.
            var w = $('#field').width();
            var h = $('#field').height() + 400;
            $('#field img').remove();
            var camera = new THREE.PerspectiveCamera( 50, w/h, 0.1, 1000 );

            var renderer = new THREE.WebGLRenderer({ alpha: true });
            renderer.setClearColor( 0xffffff, 0);
            renderer.setSize( w, h );
            document.getElementById('field').appendChild( renderer.domElement );

            // THE BALL
            var geometry = new THREE.SphereBufferGeometry( 3, 8, 6 );
            var material = new THREE.MeshBasicMaterial( { overdraw: 0.5, color:0xffffff } );
            var material = new THREE.MeshBasicMaterial( { map:texture, overdraw: 0.5, color:0xffffff } );
            var cube = new THREE.Mesh( geometry, material );            
            //cube.geometry.castShadow = true;
            scene.add( cube );

            // THE LINE
            // Add a line to trace the ball's path.
            geometry = new THREE.BufferGeometry();
            console.log(geometry);
            var numPoints = 200;
            var positions = new Float32Array( numPoints * 3 ); // 3 vertices per point
            var lineDistances = new Float32Array( numPoints * 1 ); // 1 value per point
            geometry.addAttribute( 'position', new THREE.BufferAttribute( positions, 3) );
            //geometry.addAttribute( 'position', new THREE.BufferAttribute(new THREE.Vector3( 0, 0, 0 ),
            //                        new THREE.Vector3( 0, 10, 0 )));
            drawCount = 2;
            geometry.setDrawRange(0, drawCount);
            material = new THREE.LineBasicMaterial( { color: 0xff0000, linewidth: 10 } );
            line = new THREE.Line( geometry,  material );
            scene.add( line );
            console.log(line);

            // THE FIELD
            // TODO: I'm sure you can overlay an image on this with some effort
            var field = new THREE.Mesh( new THREE.BoxGeometry( 500, 500, 0.1 ), new THREE.MeshBasicMaterial( { color: 0x00ff00 } ) );
            field.position.x = -250;
            field.position.y = -250;
            //scene.add( field );

            // TODO: maybe this can be mouse controlled? Here's roughly 50 feet behind homeplate and 30 feet elevation
            // maybe the camera should be "hit" and look back at home plate?
            camera.position.set(17,17,10);
            camera.up = new THREE.Vector3(0,0,1);
            camera.lookAt(new THREE.Vector3(0,0,1));

            var animate = function () {
                requestAnimationFrame( animate );

                // figure out t (number of seconds into the flight)
                if (t > maxT)
                {
                    t = 0;
                    hitIndex++;
                    if (hitIndex == hits.length)                    
                        hitIndex = 0;

                    maxT = flightTime(hits[hitIndex]);

                }
                else
                    t+= 0.03; // seconds since last frame
                    // TODO: figure out the right way to determine this... this should be dynamic
                    // to make the flight time realistic

                var point = coords(hits[hitIndex], t);

                //console.log(point);

                cube.position.x = point.x;
                cube.position.y = point.y;
                cube.position.z = point.z;
                cube.rotation.y += 0.08;
                cube.rotation.x += 0.04;
                
                //line.geometry.vertices.push(new THREE.Vector3( point.x, point.y, point.z ))

                /*
                    // here is "from the ball's perspective" 
                    // Would probably look more interesting with a sprite over the field or something that gives
                    // sense of scale/speed.

                    camera.position.set(point.x, point.y, point.z);
                    camera.up = new THREE.Vector3(0,0,1);
                    camera.lookAt(new THREE.Vector3(0,0,0));
                */

                renderer.render(scene, camera);
            };

            // For placing the ball, left field line to right field line
            var location_lookup = {
                lf_line: 60,
                lf: 70,
                lf_cf: 80,
                cf: 90,
                cf_rf: 100,
                rf: 110,
                rf_line: 120
            }

            // sample data array
            var hits = [
                {
                    s: 105.3 * 5280/3600, // Speed off bat (converting mph to fps)
                    r: 426, // distance... not 100% sure if this should be std or true
                    t: 97.7 - (225) // horizontal angle - 225 to orient the degrees in the chart to our system
                },
                {
                    s: 102.8 * 5280/3600,
                    r: 420,
                    t: 89.6 - (225)
                },
                {
                    s: 99.9 * 5280/3600,
                    r: 386,
                    t: 79.4 - (225)
                }
            ];

            // return the total flight time of a hit
            var flightTime = function(hit)
            {
                return (hit.r * Math.sqrt(2))
                    / Math.sqrt(
                        Math.pow(hit.s, 2)
                        + Math.sqrt(
                            Math.pow(hit.s, 4)
                            - 1024*Math.pow(hit.r, 2)
                        )
                    );
            }

            // return the coordinates of the hit at time 't' (seconds)
            var coords = function(hit, t)
            {
                var sSquared = Math.pow(hit.s,2);
                var xyReusable = (
                    Math.sqrt(
                        sSquared + Math.sqrt(
                            Math.pow(hit.s, 4)
                            - 1024*Math.pow(hit.r, 2)
                        )
                    )
                    / Math.sqrt(2)
                );

                return {
                    x: t * Math.cos(toRads(hit.t)) * xyReusable,
                    y: t * Math.sin(toRads(hit.t)) * xyReusable,
                    z: -16 * Math.pow(t,2) + t * (
                        (
                            2 * sSquared * Math.sqrt(sSquared + Math.sqrt(Math.pow(hit.s, 4) - 1024 * Math.pow(hit.r, 2)))
                            - Math.pow(sSquared + Math.sqrt(Math.pow(hit.s, 4) - 1024 * Math.pow(hit.r, 2)), 1.5)
                        )
                        / (32 * hit.r * Math.sqrt(2))
                    )
                };
            }

            var toRads = function(degrees) {
                return degrees * Math.PI / 180;
            }

            var t = 0.0;
            var hitIndex = 0;
            var maxT = flightTime(hits[0]);

slugger.init();
</script>
<style type="text/css">
#field canvas {
    background-image: url('img/baseball-field.png');
    background-repeat: no-repeat;
    background-color: #fafafa;
    background-position: center 0;
}
</body>
</html>
